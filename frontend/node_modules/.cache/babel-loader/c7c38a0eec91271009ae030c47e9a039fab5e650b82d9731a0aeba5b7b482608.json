{"ast":null,"code":"import _objectSpread from\"C:/Users/GulamK/hybrid-app-new/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from\"react\";import\"./App.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[data,setData]=useState([]);const[filters,setFilters]=useState({});const fetchData=async()=>{const res=await fetch(\"http://localhost:5000/api/requirements\");const rows=await res.json();setData(rows);};useEffect(()=>{fetchData();},[]);const handleFilterChange=(col,value)=>{setFilters(_objectSpread(_objectSpread({},filters),{},{[col]:value}));};const filteredData=data.filter(row=>Object.keys(filters).every(col=>String(row[col]).toLowerCase().includes(String(filters[col]||\"\").toLowerCase())));const handleCellChange=async(id,col,value,assigned_recruiter)=>{const updated=_objectSpread(_objectSpread({},data.find(d=>d.id===id)),{},{[col]:value});if(col===\"working\"){updated.working=value.toLowerCase()===\"yes\"?\"Yes\":\"\";if(updated.working===\"\")updated.assigned_recruiter=\"\";else updated.assigned_recruiter=assigned_recruiter||\"You\";}try{const res=await fetch(\"http://localhost:5000/api/requirements/\".concat(id),{method:\"PUT\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(updated)});const updatedRow=await res.json();if(res.status===400)alert(updatedRow.error);fetchData();}catch(err){console.error(err);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Requirements\"}),/*#__PURE__*/_jsx(\"div\",{className:\"table-container\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsx(\"tr\",{children:data[0]&&Object.keys(data[0]).map(col=>/*#__PURE__*/_jsxs(\"th\",{children:[col,/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Filter...\",value:filters[col]||\"\",onChange:e=>handleFilterChange(col,e.target.value)})]},col))})}),/*#__PURE__*/_jsx(\"tbody\",{children:filteredData.map(row=>/*#__PURE__*/_jsx(\"tr\",{children:Object.keys(row).map(col=>/*#__PURE__*/_jsx(\"td\",{children:col===\"working\"||col===\"assigned_recruiter\"?/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:row[col],onChange:e=>handleCellChange(row.id,col,e.target.value,row.assigned_recruiter)}):row[col]},col))},row.id))})]})})]});}export default App;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","App","data","setData","filters","setFilters","fetchData","res","fetch","rows","json","handleFilterChange","col","value","_objectSpread","filteredData","filter","row","Object","keys","every","String","toLowerCase","includes","handleCellChange","id","assigned_recruiter","updated","find","d","working","concat","method","headers","body","JSON","stringify","updatedRow","status","alert","error","err","console","className","children","map","type","placeholder","onChange","e","target"],"sources":["C:/Users/GulamK/hybrid-app-new/frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport \"./App.css\";\r\n\r\nfunction App() {\r\n  const [data, setData] = useState([]);\r\n  const [filters, setFilters] = useState({});\r\n\r\n  const fetchData = async () => {\r\n    const res = await fetch(\"http://localhost:5000/api/requirements\");\r\n    const rows = await res.json();\r\n    setData(rows);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  const handleFilterChange = (col, value) => {\r\n    setFilters({ ...filters, [col]: value });\r\n  };\r\n\r\n  const filteredData = data.filter((row) =>\r\n    Object.keys(filters).every((col) =>\r\n      String(row[col]).toLowerCase().includes(String(filters[col] || \"\").toLowerCase())\r\n    )\r\n  );\r\n\r\n  const handleCellChange = async (id, col, value, assigned_recruiter) => {\r\n    const updated = { ...data.find((d) => d.id === id), [col]: value };\r\n    if (col === \"working\") {\r\n      updated.working = value.toLowerCase() === \"yes\" ? \"Yes\" : \"\";\r\n      if (updated.working === \"\") updated.assigned_recruiter = \"\";\r\n      else updated.assigned_recruiter = assigned_recruiter || \"You\";\r\n    }\r\n    try {\r\n      const res = await fetch(`http://localhost:5000/api/requirements/${id}`, {\r\n        method: \"PUT\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(updated),\r\n      });\r\n      const updatedRow = await res.json();\r\n      if (res.status === 400) alert(updatedRow.error);\r\n      fetchData();\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <h1>Requirements</h1>\r\n      <div className=\"table-container\">\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              {data[0] &&\r\n                Object.keys(data[0]).map((col) => (\r\n                  <th key={col}>\r\n                    {col}\r\n                    <input\r\n                      type=\"text\"\r\n                      placeholder=\"Filter...\"\r\n                      value={filters[col] || \"\"}\r\n                      onChange={(e) => handleFilterChange(col, e.target.value)}\r\n                    />\r\n                  </th>\r\n                ))}\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {filteredData.map((row) => (\r\n              <tr key={row.id}>\r\n                {Object.keys(row).map((col) => (\r\n                  <td key={col}>\r\n                    {col === \"working\" || col === \"assigned_recruiter\" ? (\r\n                      <input\r\n                        type=\"text\"\r\n                        value={row[col]}\r\n                        onChange={(e) =>\r\n                          handleCellChange(row.id, col, e.target.value, row.assigned_recruiter)\r\n                        }\r\n                      />\r\n                    ) : (\r\n                      row[col]\r\n                    )}\r\n                  </td>\r\n                ))}\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}